<!doctype html>
<html lang="en" class="h-full antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tailwind Timeline (Month)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>

  /* === Brand Tokens === */
 :root {
   --brand-bg: #f8fafc;           /* light gray canvas */
   --brand-surface: #ffffff;      /* card surface */
   --brand-text: #004D59;         /* deep teal text */
   --brand-muted: #64748b;        /* neutral gray for secondary text */
   --brand-border: rgba(0,0,0,.06);

   --brand-accent: #008EFA;       /* azure blue (primary) */
   --brand-accent-alt: #5AD0DD;   /* aqua (secondary) */
   --brand-accent-2: #98C345;     /* lime green (optional, sparing) */
   --brand-warm: #FFE500;         /* yellow (small hits only) */

   --brand-radius: 14px;
   --shadow-sm: 0 1px 2px rgba(0,0,0,.06);
   --shadow-md: 0 8px 24px rgba(0,0,0,.10);
 }

 body {
   background: var(--brand-bg);
   color: var(--brand-text);
   font-family: "Inter", system-ui, sans-serif;
 }

 /* Cards (calendar days & timeline items) */
 #grid > button,
 #timeline button {
   border-radius: var(--brand-radius);
   border: 1px solid var(--brand-border);
   background: var(--brand-surface);
   transition: transform .15s ease, box-shadow .15s ease, background-color .15s ease;
 }
 #grid > button:hover,
 #timeline button:hover {
   transform: translateY(-2px);
   box-shadow: var(--shadow-md);
 }

 /* Date numbers */
 #grid > button > div,
 #timeline .text-2xl {
   color: var(--brand-text);
   font-weight: 700;
 }

 /* Event dots / chips */
 #grid .w-2\.5.h-2\.5.rounded-full{ background: var(--brand-accent); }
 #timeline .bg-indigo-500{ background: var(--brand-accent) !important; } /* rail dots */
 #timeline .px-2{
   background: var(--brand-accent);
   color: #fff !important;
 }

 /* Today indicators */
 #grid > button .w-6.h-6.rounded-full{ border-color: var(--brand-accent-alt); }
 #timeline button.ring-1{ --tw-ring-color: var(--brand-accent-alt); }

 /* Optional: enforce brand body colors if you keep Tailwind bg utilities */
 body{
   background: var(--brand-bg) !important;
   color: var(--brand-text) !important;
 }

 /* Headers */
 header h1 {
   color: var(--brand-accent);
   font-weight: 800;
   letter-spacing: -0.01em;
 }

 /* Subtle shape motif on hover (optional) */
 /* Cards (calendar days & timeline items) – make relative for ::after */
 #grid > button,
 #timeline button{
   position: relative; /* <— important */
   border-radius: var(--brand-radius);
   border: 1px solid var(--brand-border);
   background: var(--brand-surface);
   transition: transform .15s ease, box-shadow .15s ease, background-color .15s ease;
 }
 #grid > button:hover,
 #timeline button:hover{
   transform: translateY(-2px);
   box-shadow: var(--shadow-md);
 }
    /* Motion (kept understated, respects reduced-motion) */
    @media (prefers-reduced-motion: no-preference) {
      .fade-in { animation: fade-in 220ms ease-out both; }
      .slide-in-left { animation: slide-in-left 260ms cubic-bezier(.22,1,.36,1) both; }
      .slide-in-right { animation: slide-in-right 260ms cubic-bezier(.22,1,.36,1) both; }
    }
    @keyframes fade-in { from { opacity: 0 } to { opacity: 1 } }
    @keyframes slide-in-left { from { opacity: 0; transform: translateX(-14px) } to { opacity: 1; transform: translateX(0) } }
    @keyframes slide-in-right { from { opacity: 0; transform: translateX(14px) } to { opacity: 1; transform: translateX(0) } }

    /* Focus ring */
    .focus-ring:focus-visible{
      outline: 2px solid transparent;
      box-shadow:
        0 0 0 2px #ffffff,
        0 0 0 4px #008EFA; /* brand accent */
    }
    @media (prefers-color-scheme: dark){
      .focus-ring:focus-visible{
        box-shadow:
          0 0 0 2px #171717,
          0 0 0 4px #5AD0DD; /* aqua */
      }
    }

    /* --- Pattern Stripe (right edge) -------------------------------------- */
:root { --stripe-w: 160px; }

/* Only activate when you add .with-stripe to <body> */
body.with-stripe::after {
  background-color: #f8fafc; /* pale gray instead of tan */
  background-image: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120">\
  <defs>\
    <pattern id="diag" width="12" height="12" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">\
      <rect width="12" height="12" fill="none"/>\
      <rect x="0" y="0" width="6" height="12" fill="#5AD0DD" opacity="0.18"/>\
    </pattern>\
  </defs>\
  <rect width="120" height="120" fill="#f8fafc"/>\
  <path d="M120 0 L120 60 L60 0 Z" fill="#004D59" opacity="0.9"/>\
  <path d="M0 120 L60 120 L0 60 Z" fill="#008EFA" opacity="0.9"/>\
  <circle cx="88" cy="84" r="22" fill="#5AD0DD"/>\
  <circle cx="34" cy="36" r="18" fill="none" stroke="#008EFA" stroke-width="6"/>\
  <rect x="40" y="40" width="70" height="70" fill="url(#diag)"/>\
</svg>');
  background-size: 120px 120px;
}

/* Nudge content so the stripe doesn’t overlap */
.with-stripe .mx-auto{ position:relative; z-index:1; }
@media (min-width: 1024px){
  .with-stripe .mx-auto{ padding-right: calc(var(--stripe-w) + 2rem); }
}
/* Hide stripe on small screens (keep UI clean) */
@media (max-width: 1023px){
  body.with-stripe::after{ display:none; }
}

/* Optional: dark mode variant (keeps it quiet) */
@media (prefers-color-scheme: dark){
  body.with-stripe::after{
    background-color:#121214;
    background-image: none; /* or keep the same SVG; removing = cleaner */
    box-shadow: inset 1px 0 0 rgba(255,255,255,.08);
  }
}
  </style>
</head>
<body class="with-stripe h-full text-neutral-900 dark:text-neutral-100 selection:bg-indigo-200/60 selection:text-neutral-900">  <div class="min-h-full py-10 px-4 md:px-8">
    <div class="mx-auto max-w-4xl space-y-6">
      <!-- Header / Controls (same language as calendar) -->
      <header class="flex items-center justify-between gap-2">
        <div class="flex items-center gap-3">
          <h1 id="monthLabel" class="text-2xl font-semibold tracking-tight"></h1>
          <span id="todayBadge" class="hidden text-xs rounded-full px-2 py-0.5 bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200">Today</span>
        </div>
        <div class="flex items-center gap-2">
          <button id="todayBtn"
                  class="rounded-md border border-neutral-300 dark:border-neutral-700 px-3 py-1.5 text-sm font-medium hover:bg-neutral-100 dark:hover:bg-neutral-800 transition"
                  title="Jump to current month (T)">
            Today
          </button>
          <div class="inline-flex rounded-md border border-neutral-300 dark:border-neutral-700 overflow-hidden">
            <button id="prevBtn"
                    class="px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition"
                    title="Previous month (←)">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <button id="nextBtn"
                    class="px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition"
                    title="Next month (→)">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>
      </header>

      <!-- Legend -->
      <div class="flex flex-wrap items-center gap-3 text-sm text-neutral-600 dark:text-neutral-300">
        <span class="inline-flex items-center gap-2">
          <span class="inline-block w-2.5 h-2.5 rounded-full bg-indigo-500"></span> Event
        </span>
        <span class="inline-flex items-center gap-2">
          <span class="inline-block w-4 h-4 rounded-full border-2 border-emerald-500"></span> Today
        </span>
      </div>

      <!-- Timeline -->
      <section class="relative">
        <!-- vertical rail -->
        <div class="absolute left-6 top-0 bottom-0 w-px bg-neutral-200 dark:bg-neutral-700"></div>

        <ol id="timeline" class="space-y-3 fade-in" aria-label="Monthly timeline">
          <!-- items injected here -->
        </ol>
      </section>
    </div>
  </div>

  <script>
    // --- Utilities ---
    const pad = n => String(n).padStart(2, '0');
    const fmtKey = (d) => `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
    const startOfMonth = (d) => new Date(d.getFullYear(), d.getMonth(), 1);
    const endOfMonth = (d) => new Date(d.getFullYear(), d.getMonth()+1, 0);

    // --- Example events map (same shape as calendar) ---
    const events = {
      // '2025-09-08': [{title:'Design review'}, {title:'Dentist'}, {title:'1:1'}],
      // '2025-09-12': [{title:'Ship v1'}],
      // '2025-09-21': [{title:'Team offsite'}],
    };

    // --- State ---
    const today = new Date();
    let view = new Date(today.getFullYear(), today.getMonth(), 1);
    let lastDir = 'none';

    // --- DOM ---
    const timeline = document.getElementById('timeline');
    const label = document.getElementById('monthLabel');
    const todayBadge = document.getElementById('todayBadge');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const todayBtn = document.getElementById('todayBtn');

    // --- Render ---
    function render() {
      // Header
      const locale = navigator.language || 'en-US';
      const mo = view.toLocaleString(locale, { month: 'long' });
      label.textContent = `${mo} ${view.getFullYear()}`;
      if (view.getFullYear() === today.getFullYear() && view.getMonth() === today.getMonth()) {
        todayBadge.classList.remove('hidden');
      } else {
        todayBadge.classList.add('hidden');
      }

      // Build list
      const start = startOfMonth(view);
      const end = endOfMonth(view);
      const daysInMonth = end.getDate();

      timeline.innerHTML = '';

      for (let day = 1; day <= daysInMonth; day++) {
        const d = new Date(view.getFullYear(), view.getMonth(), day);
        const key = fmtKey(d);
        const weekday = d.toLocaleString(locale, { weekday: 'short' });
        const isToday = fmtKey(d) === fmtKey(today);
        const list = events[key] || [];

        // <li> wrapper
        const li = document.createElement('li');
        li.className = "relative pl-16";

        // Dot on the rail
        const dot = document.createElement('span');
        dot.className = [
          "absolute left-6 -translate-x-1/2 top-5",
          "w-3 h-3 rounded-full",
          list.length ? "bg-indigo-500" : "bg-neutral-300 dark:bg-neutral-600"
        ].join(' ');
        li.appendChild(dot);

        // Card
        const card = document.createElement('button');
        card.type = 'button';
        card.className = [
          "w-full text-left rounded-xl border border-neutral-200 dark:border-neutral-700",
          "bg-white/80 dark:bg-neutral-900/80 backdrop-blur",
          "hover:bg-neutral-50 dark:hover:bg-neutral-800",
          "transition focus-ring",
          // understated motion on hover
          "hover:-translate-y-0.5 hover:shadow-sm",
          isToday ? "ring-1 ring-emerald-400/60" : "ring-1 ring-transparent"
        ].join(' ');

        // Card inner layout
        const inner = document.createElement('div');
        inner.className = "p-4 flex items-start justify-between gap-4";

        // Date block (big number, small weekday)
        const dateBlock = document.createElement('div');
        dateBlock.className = "flex items-baseline gap-3";
        const dateNum = document.createElement('div');
        dateNum.className = "text-2xl font-semibold";
        dateNum.textContent = day;
        const wk = document.createElement('div');
        wk.className = "text-sm text-neutral-500 dark:text-neutral-400";
        wk.textContent = weekday;
        dateBlock.appendChild(dateNum);
        dateBlock.appendChild(wk);

        // Events summary
        const right = document.createElement('div');
        right.className = "flex-1 flex items-center justify-between gap-4";

        const summary = document.createElement('div');
        summary.className = "text-sm";
        if (list.length === 0) {
          summary.innerHTML = `<span class="text-neutral-500 dark:text-neutral-400">No events</span>`;
        } else {
          // up to 3 as chips, then +n
          const wrap = document.createElement('div');
          wrap.className = "flex flex-wrap items-center gap-2";
          list.slice(0,3).forEach(ev => {
            const chip = document.createElement('span');
            chip.className = "px-2 py-0.5 rounded-full text-xs bg-indigo-50 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-200";
            chip.textContent = ev.title;
            wrap.appendChild(chip);
          });
          if (list.length > 3) {
            const more = document.createElement('span');
            more.className = "text-xs text-neutral-500 dark:text-neutral-400";
            more.textContent = `+${list.length-3} more`;
            wrap.appendChild(more);
          }
          summary.appendChild(wrap);
        }

        // Today badge (inline on the card, subtle)
        if (isToday) {
          const tb = document.createElement('span');
          tb.className = "ml-auto text-xs rounded-full px-2 py-0.5 bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200";
          tb.textContent = "Today";
          right.appendChild(tb);
        }

        right.prepend(summary);

        inner.appendChild(dateBlock);
        inner.appendChild(right);

        card.appendChild(inner);
        li.appendChild(card);

        // basic interactions
        card.addEventListener('click', () => {
          console.log('Selected date:', key);
        });
        card.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') console.log('Selected date:', key);
        });

        // mount
        timeline.appendChild(li);
      }

      // slide direction
      if (lastDir === 'left') timeline.classList.add('slide-in-left');
      if (lastDir === 'right') timeline.classList.add('slide-in-right');
      if (lastDir === 'none') timeline.classList.add('fade-in');
      timeline.addEventListener('animationend', () => {
        timeline.classList.remove('slide-in-left', 'slide-in-right', 'fade-in');
      }, { once: true });
    }

    // --- Navigation (same keys/buttons as calendar) ---
    function go(deltaMonths) {
      const m = view.getMonth();
      view = new Date(view.getFullYear(), m + deltaMonths, 1);
      lastDir = deltaMonths > 0 ? 'right' : 'left';
      render();
      // optional: scroll to today if still within view month
      if (view.getFullYear() === today.getFullYear() && view.getMonth() === today.getMonth()) {
        const todayIdx = today.getDate();
        const node = timeline.children[todayIdx - 1];
        if (node) node.scrollIntoView({ block: 'center', behavior: 'smooth' });
      } else {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }
    function goToday() {
      view = new Date(today.getFullYear(), today.getMonth(), 1);
      lastDir = 'none';
      render();
      const node = timeline.children[today.getDate() - 1];
      if (node) node.scrollIntoView({ block: 'center', behavior: 'smooth' });
    }

    prevBtn.addEventListener('click', () => go(-1));
    nextBtn.addEventListener('click', () => go(1));
    todayBtn.addEventListener('click', goToday);

    document.addEventListener('keydown', (e) => {
      if (e.target !== document.body) return;
      if (e.key === 'ArrowLeft') go(-1);
      if (e.key === 'ArrowRight') go(1);
      if (e.key.toLowerCase() === 't') goToday();
    });

    // --- Demo events (same as calendar seed; remove for prod) ---
    (function seedDemo() {
      const base = new Date();
      const k1 = `${base.getFullYear()}-${String(base.getMonth()+1).padStart(2,'0')}-08`;
      const k2 = `${base.getFullYear()}-${String(base.getMonth()+1).padStart(2,'0')}-12`;
      const k3 = `${base.getFullYear()}-${String(base.getMonth()+1).padStart(2,'0')}-21`;
      events[k1] = [{title:'Design review'}, {title:'Dentist'}, {title:'1:1'}, {title:'Extra'}];
      events[k2] = [{title:'Ship v1'}];
      events[k3] = [{title:'Team offsite'}];
    })();

    // Initial render
    render();
  </script>
</body>
</html>
